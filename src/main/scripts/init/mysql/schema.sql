-- ==================================================================
-- TABLES - MySQL
-- ==================================================================

-- JSLOG_APP
DROP TABLE IF EXISTS `JSLOG_APP`;
CREATE TABLE IF NOT EXISTS `JSLOG_APP` (
	ID					BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CREATE_USER			VARCHAR(50) NOT NULL,
	CREATE_TIME			DATETIME NOT NULL,
	MODIFY_USER			VARCHAR(50) NOT NULL,
	MODIFY_TIME			DATETIME NOT NULL,
	
	SYS_STATUS			VARCHAR(1) NOT NULL,
	NAME				VARCHAR(100) NOT NULL,
	APP_KEY				VARCHAR(100),
	SITE				VARCHAR(500)
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_USER
DROP TABLE IF EXISTS `JSLOG_USER`;
CREATE TABLE IF NOT EXISTS `JSLOG_USER` (
	ID					BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CREATE_USER			VARCHAR(50) NOT NULL,
	CREATE_TIME			DATETIME NOT NULL,
	MODIFY_USER			VARCHAR(50) NOT NULL,
	MODIFY_TIME			DATETIME NOT NULL,
	
	SYS_STATUS			VARCHAR(1) NOT NULL,
	USERNAME			VARCHAR(50) NOT NULL,
	FULLNAME			VARCHAR(50),
	EMAIL				VARCHAR(200) NOT NULL,
	PASSWORD			VARCHAR(100) NOT NULL,
	DESCRIPTION			TEXT
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_APP_USER
DROP TABLE IF EXISTS `JSLOG_APP_USER`;
CREATE TABLE IF NOT EXISTS `JSLOG_APP_USER` (
	APP_ID				BIGINT NOT NULL,
	USER_ID				BIGINT NOT NULL
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_CLIENT
DROP TABLE IF EXISTS `JSLOG_CLIENT`;
CREATE TABLE IF NOT EXISTS `JSLOG_CLIENT` (
	ID							BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	
	NAVIGATOR_APP_VERSION		VARCHAR(300),
	NAVIGATOR_COOKIE_ENABLED	VARCHAR(50),
	NAVIGATOR_LANGUAGE			VARCHAR(50),
	NAVIGATOR_PLATFORM			VARCHAR(50),
	NAVIGATOR_USER_AGENT		VARCHAR(300),
	NAVIGATOR_VENDOR			VARCHAR(50),
	
	SCREEN_WIDTH				SMALLINT,
	SCREEN_HEIGHT				SMALLINT,
	SCREEN_AVAIL_WIDTH			SMALLINT,
	SCREEN_AVAIL_HEIGHT			SMALLINT,
	SCREEN_COLOR_DEPTH			SMALLINT,
	SCREEN_PIXEL_DEPTH			SMALLINT,
	
	LOCATION_HREF				VARCHAR(500),
	LOCATION_HOSTNAME			VARCHAR(100),
	LOCATION_PATHNAME			VARCHAR(200),
	LOCATION_PROTOCOL			VARCHAR(50),
	
	DOCUMENT_WIDTH				SMALLINT,
	DOCUMENT_HEIGHT				SMALLINT
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_FEEDBACK
DROP TABLE IF EXISTS `JSLOG_FEEDBACK`;
CREATE TABLE IF NOT EXISTS `JSLOG_FEEDBACK` (
	ID					BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CREATE_USER			VARCHAR(50) NOT NULL,
	CREATE_TIME			DATETIME NOT NULL,
	MODIFY_USER			VARCHAR(50) NOT NULL,
	MODIFY_TIME			DATETIME NOT NULL,
	
	APP_ID				BIGINT,
	CLIENT_ID			BIGINT,
	SCREENSHOT_ID		BIGINT,
	
	SUBJECT				VARCHAR(500),
	CONTENT				TEXT
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_ERROR
DROP TABLE IF EXISTS `JSLOG_ERROR`;
CREATE TABLE IF NOT EXISTS `JSLOG_ERROR` (
	ID					BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CREATE_USER			VARCHAR(50) NOT NULL,
	CREATE_TIME			DATETIME NOT NULL,
	MODIFY_USER			VARCHAR(50) NOT NULL,
	MODIFY_TIME			DATETIME NOT NULL,
	
	APP_ID				BIGINT,
	CLIENT_ID			BIGINT,
	SCREENSHOT_ID		BIGINT,
	SOURCECODE_ID		BIGINT,
	
	ERR_MSG				TEXT,
	URL					VARCHAR(500),
	LINE				INT,
	COL					INT,
	ERR_COUNT			INT,
	ERR_OBJ				MEDIUMTEXT
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_SCREENSHOT
DROP TABLE IF EXISTS `JSLOG_SCREENSHOT`;
CREATE TABLE IF NOT EXISTS `JSLOG_SCREENSHOT` (
	ID					BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	
	MIMETYPE			VARCHAR(50),
	BASE64				MEDIUMTEXT
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

-- JSLOG_SOURCECODE
DROP TABLE IF EXISTS `JSLOG_SOURCECODE`;
CREATE TABLE IF NOT EXISTS `JSLOG_SOURCECODE` (
	ID					BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	
	MIMETYPE			VARCHAR(50),
	CONTENT				MEDIUMTEXT
) ENGINE = InnoDB DEFAULT CHARACTER SET = utf8 COLLATE = utf8_unicode_ci;

